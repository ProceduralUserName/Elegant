import{z as L,q as M,an as U,as as R,aq as Y,A as l,e as u,D as e,w as n,ar as H,ao as x,ap as I,at as W,d as r,f as s,g as _,c as j,F as G,W as J,V as K,Y as O,a3 as Q,C as b,t as w,am as X,au as Z,U as tt,av as et}from"./D5z-qJp0.js";import{_ as at,a as nt}from"./4IKSAJSp.js";import{_ as st,a as ot,b as rt}from"./DkcMtJbg.js";import"./C2bHYaEW.js";const ct={class:"text-muted"},it={class:"flex flex-wrap items-center gap-3 mt-4"},ft=L({__name:"[slug]",async setup(lt){var f,g,v;let a,c;const i=M(),{data:t}=([a,c]=U(()=>x(i.path,()=>I("posts").path(i.path).first(),"$n6r2E9lutY")),a=await a,c(),a);if(!t.value)throw R({statusCode:404,statusMessage:"Post not found",fatal:!0});const{data:m}=([a,c]=U(()=>x(`${i.path}-surround`,()=>W("posts",i.path,{fields:["description"]}))),a=await a,c(),a),d=((f=t.value.seo)==null?void 0:f.title)||t.value.title,p=((g=t.value.seo)==null?void 0:g.description)||t.value.description;return Y({title:d,ogTitle:d,description:p,ogDescription:p}),(v=t.value.image)!=null&&v.src,(ut,y)=>{const B=X,S=Q,D=K,A=at,P=st,V=et,q=ot,N=nt,z=rt,E=Z,T=H;return e(t)?(r(),l(T,{key:0},{default:n(()=>{var h,k,$,C;return[s(A,{title:e(t).title,description:e(t).description},{headline:n(()=>[s(B,b(e(t).badge,{variant:"subtle"}),null,16),y[0]||(y[0]=_("span",{class:"text-muted"},"Â·",-1)),_("time",ct,w(new Date(e(t).date).toLocaleDateString("en",{year:"numeric",month:"short",day:"numeric"})),1)]),default:n(()=>[_("div",it,[(r(!0),j(G,null,J(e(t).authors,(o,F)=>(r(),l(D,{key:F,to:o.to,color:"neutral",variant:"subtle",target:"_blank",size:"sm"},{default:n(()=>[s(S,b({ref_for:!0},o.avatar,{alt:"Author avatar",size:"2xs"}),null,16),O(" "+w(o.name),1)]),_:2},1032,["to"]))),128))])]),_:1},8,["title","description"]),s(E,null,tt({default:n(()=>[s(N,null,{default:n(()=>{var o;return[e(t)?(r(),l(P,{key:0,value:e(t)},null,8,["value"])):u("",!0),(o=e(m))!=null&&o.length?(r(),l(V,{key:1})):u("",!0),s(q,{surround:e(m)},null,8,["surround"])]}),_:1})]),_:2},[(C=($=(k=(h=e(t))==null?void 0:h.body)==null?void 0:k.toc)==null?void 0:$.links)!=null&&C.length?{name:"right",fn:n(()=>[s(z,{links:e(t).body.toc.links},null,8,["links"])]),key:"0"}:void 0]),1024)]}),_:1})):u("",!0)}}});export{ft as default};
